<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <title>Suppression</title>
    <meta name="Description" content="Description du site" />
    <meta name="author" content="JB" />
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="https://www.assurcyber.com/images/icone_rgsupervision.png">
</head>

<body>
    <h1>Suppression</h1>
    <form id="formulaire" action="/actionSuppression" method="get">
        <div id="ListeEquipements"></div>
        <br></br>
        <button id="envoie_form" class="btn btn-primary" type="submit">Supprimer</button>
    </form>
    <a id="retour" class="btn btn-primary" href="/">Retour</a>
    <script type="text/javascript">
        var str = window.location.href;
        var url = new URL(str);
        //alert(url);
        let equipement = [];
        var search_params = new URLSearchParams(url.search);
        //alert(search_params)
        search_params.forEach((value, key) => {
            var verif = key.indexOf("Equipement")
            if (verif !== -1) {
                equipement.push(value);
            }
        });
        //alert(equipement);

        var select = document.createElement("select");
        select.name = "EquipementSuppr";
        select.id = "EquipementSuppr"

        for (const val of equipement) {
            var option = document.createElement("option");
            option.value = val;
            option.text = val.charAt(0).toUpperCase() + val.slice(1);
            select.appendChild(option);
        }

        var label = document.createElement("label");
        label.innerHTML = "Choisir un equipement Ã  supprimer: "
        label.htmlFor = "equipement";

        document.getElementById("ListeEquipements").appendChild(label).appendChild(select);
    </script>

</body>

</html>